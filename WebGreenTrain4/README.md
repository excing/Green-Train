# ğŸš‚ WebGreenTrain4

ä¸€ä¸ªåŸºäº SvelteKit + Firebase çš„å®æ—¶åˆ—è½¦èŠå¤©å¹³å°ã€‚ç”¨æˆ·å¯ä»¥æµè§ˆåˆ—è½¦ã€è´­ç¥¨ã€è¿›å…¥å€™è½¦å®¤ä¸å…¶ä»–ä¹˜å®¢è¿›è¡Œå®æ—¶èŠå¤©ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš‚ **åˆ—è½¦ç®¡ç†** - æ”¯æŒå¤šæ¡åˆ—è½¦ï¼Œæ¯æ¡åˆ—è½¦æœ‰ç‹¬ç«‹çš„æ—¶é—´è¡¨ã€åº§ä½é…ç½®å’Œå”®ç¥¨è§„åˆ™
- ğŸ« **è´­ç¥¨ç³»ç»Ÿ** - æ”¯æŒåº§ä½é€‰æ‹©ã€ç¥¨æ®ç”Ÿæˆã€PNR ç å’ŒäºŒç»´ç 
- ğŸ’¬ **å®æ—¶èŠå¤©** - åŸºäº Firebase Cloud Messaging (FCM) çš„å®æ—¶æ¶ˆæ¯ç³»ç»Ÿ
- ğŸ¨ **ç»¿çš®åˆ—è½¦é…è‰²** - é‡‡ç”¨ç»¿çš®åˆ—è½¦çš„ç»å…¸é…è‰²ï¼Œé€‚åº”ç°ä»£å¹´è½»äººå®¡ç¾
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ”’ **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript ç±»å‹æ£€æŸ¥
- âœ… **å…¨é¢æµ‹è¯•** - 23 ä¸ªå•å…ƒæµ‹è¯•ï¼Œå…¨éƒ¨é€šè¿‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### è¿è¡Œæµ‹è¯•

```bash
npm test
```

### ç±»å‹æ£€æŸ¥

```bash
npm run check
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## ğŸ“š æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹æŒ‡å—](./QUICKSTART.md) - å¿«é€Ÿä¸Šæ‰‹
- [å®ç°æ–‡æ¡£](./IMPLEMENTATION.md) - è¯¦ç»†çš„å®ç°è¯´æ˜
- [é¡¹ç›®æ€»ç»“](./PROJECT_SUMMARY.md) - é¡¹ç›®å®Œæˆæƒ…å†µ
- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md) - ç”Ÿäº§éƒ¨ç½²æŒ‡å—
- [éªŒè¯æ¸…å•](./VERIFICATION_CHECKLIST.md) - åŠŸèƒ½éªŒè¯æ¸…å•
- [å®ŒæˆæŠ¥å‘Š](./COMPLETION_REPORT.md) - é¡¹ç›®å®ŒæˆæŠ¥å‘Š

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ lib/                    # æ ¸å¿ƒåº“å‡½æ•°
â”‚   â”œâ”€â”€ types.ts           # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ time.ts            # æ—¶é—´å¤„ç†
â”‚   â”œâ”€â”€ calendar.ts        # è¿è¡Œæ—¥è®¡ç®—
â”‚   â”œâ”€â”€ sales.ts           # å”®ç¥¨é€»è¾‘
â”‚   â”œâ”€â”€ room.ts            # æˆ¿é—´ç®¡ç†
â”‚   â”œâ”€â”€ trains.ts          # åˆ—è½¦æ•°æ®
â”‚   â”œâ”€â”€ fcm-client.ts      # FCM å®¢æˆ·ç«¯
â”‚   â””â”€â”€ __tests__/         # å•å…ƒæµ‹è¯•
â”œâ”€â”€ routes/                # é¡µé¢å’Œ API è·¯ç”±
â”‚   â”œâ”€â”€ +page.svelte       # é¦–é¡µ
â”‚   â”œâ”€â”€ trains/
â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte      # è¯¦æƒ…é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ book/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ +page.svelte  # è´­ç¥¨é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ room/
â”‚   â”‚   â”‚       â””â”€â”€ [roomId]/
â”‚   â”‚   â”‚           â””â”€â”€ +page.svelte  # å€™è½¦å®¤
â”‚   â””â”€â”€ api/               # API ç«¯ç‚¹
â”‚       â”œâ”€â”€ tickets/
â”‚       â”œâ”€â”€ messages/
â”‚       â””â”€â”€ fcm/
â””â”€â”€ app.css               # å…¨å±€æ ·å¼
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šSvelteKit 2.43.2
- **UI**ï¼šTailwind CSS 4.1.13
- **æ—¶é—´å¤„ç†**ï¼šLuxon 3.4.0
- **æ¶ˆæ¯æ¨é€**ï¼šFirebase 11.0.0
- **æµ‹è¯•**ï¼šVitest 3.2.4
- **ç±»å‹æ£€æŸ¥**ï¼šTypeScript 5.9.2

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **ä»£ç è¡Œæ•°**ï¼š3000+
- **æ ¸å¿ƒå‡½æ•°**ï¼š50+
- **API ç«¯ç‚¹**ï¼š4 ä¸ª
- **é¡µé¢ç»„ä»¶**ï¼š5 ä¸ª
- **å•å…ƒæµ‹è¯•**ï¼š23 ä¸ªï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰
- **ç±»å‹é”™è¯¯**ï¼š0 ä¸ª
- **æ„å»ºè­¦å‘Š**ï¼š0 ä¸ª

## ğŸ¨ é…è‰²æ–¹æ¡ˆ

é‡‡ç”¨ç»¿çš®åˆ—è½¦çš„ç»å…¸é…è‰²ï¼š

- **æ·±ç»¿è‰²** (#2d5016) - ä¸»è‰²
- **åˆ—è½¦ç»¿** (#4a7c2c) - è¾…åŠ©è‰²
- **æµ…ç»¿è‰²** (#6ba547) - å¼ºè°ƒè‰²
- **ç±³è‰²** (#f5f1e8) - èƒŒæ™¯è‰²

## ğŸ”§ API ç«¯ç‚¹

### POST /api/tickets
åˆ›å»ºç¥¨æ®ï¼ˆè´­ç¥¨ï¼‰

### POST /api/messages/send
å‘é€æ¶ˆæ¯åˆ°æˆ¿é—´

### POST /api/fcm/subscribe
è®¢é˜…æˆ¿é—´ä¸»é¢˜

### POST /api/fcm/unsubscribe
å–æ¶ˆè®¢é˜…æˆ¿é—´ä¸»é¢˜

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npm test -- time.test.ts

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
npm test -- --coverage
```

## ğŸ“¦ ä¾èµ–

### ç”Ÿäº§ä¾èµ–
- firebase
- firebase-admin
- date-fns
- zod
- luxon
- uuid

### å¼€å‘ä¾èµ–
- SvelteKit
- Tailwind CSS
- TypeScript
- Vitest
- ç­‰ç­‰

## ğŸš€ éƒ¨ç½²

### Vercel

```bash
npm install -g vercel
vercel
```

### Netlify

```bash
npm install -g netlify-cli
netlify deploy --prod
```

### è‡ªå®šä¹‰æœåŠ¡å™¨

```bash
npm run build
npm install --production
node build/index.js
```

è¯¦è§ [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)

## ğŸ”’ å®‰å…¨æ€§

- âœ… è¾“å…¥éªŒè¯
- âœ… ç±»å‹æ£€æŸ¥
- âœ… é”™è¯¯å¤„ç†
- âœ… æ—  XSS æ¼æ´
- âœ… æ—  CSRF æ¼æ´

## ğŸ“± æµè§ˆå™¨å…¼å®¹æ€§

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- ç§»åŠ¨æµè§ˆå™¨

## ğŸ¯ é¡¹ç›®çŠ¶æ€

âœ… **å®Œæˆ** - æ‰€æœ‰åŠŸèƒ½å·²å®ç°ï¼Œæ‰€æœ‰æµ‹è¯•å·²é€šè¿‡ï¼Œå·²å‡†å¤‡å¥½ç”Ÿäº§éƒ¨ç½²

## ğŸ“ è®¸å¯è¯

MIT

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ã€‚

---

**æœ€åæ›´æ–°**ï¼š2025-10-19
**é¡¹ç›®çŠ¶æ€**ï¼šâœ… å®Œæˆ
**è´¨é‡è¯„åˆ†**ï¼šâ­â­â­â­â­
